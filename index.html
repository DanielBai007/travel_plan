<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>十一内蒙古自驾游详细攻略 - 带着比熊看草原</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc8 50%, #fff9c4 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .trip-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #667eea;
        }

        .info-card i {
            font-size: 2em;
            color: #4ecdc4;
            margin-bottom: 10px;
        }

        .nav-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 120px;
        }

        .nav-tab.active {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .content-section.active {
            display: block;
        }

        .day-card {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #4ecdc4;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        }

        .day-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, rgba(78, 205, 196, 0.1), rgba(68, 160, 141, 0.1));
            border-radius: 50%;
            transform: translate(30px, -30px);
        }

        .day-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .day-title i {
            color: #4ecdc4;
        }

        .route-info {
            background: rgba(78, 205, 196, 0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            border: 1px solid rgba(78, 205, 196, 0.2);
        }

        .route-info h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, #4ecdc4, #44a08d);
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 25px;
            padding-left: 25px;
            padding-top: 2px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -32px;
            top: 6px;
            width: 14px;
            height: 14px;
            background: #4ecdc4;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 2px #4ecdc4, 0 2px 8px rgba(78, 205, 196, 0.3);
            z-index: 2;
        }

        .timeline-item:hover::before {
            transform: scale(1.2);
            transition: transform 0.3s ease;
        }

        .map-container {
            height: 400px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            background: #f8f9fa;
            border: 2px solid rgba(78, 205, 196, 0.2);
        }
        
        .map-container #overviewMap,
        .map-container #navigationMap {
            height: 100%;
            width: 100%;
            border-radius: 13px;
        }

        .hotel-card, .restaurant-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 15px;
            align-items: center;
        }

        .hotel-info h4, .restaurant-info h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .hotel-info p, .restaurant-info p {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .price-tag {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            white-space: nowrap;
        }

        .nav-button {
            background: #4ecdc4;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .nav-button:hover {
            background: #44a08d;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .photo-tips {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(78, 205, 196, 0.2);
        }

        .photo-tips h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tip-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #4ecdc4;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .budget-summary {
            background: linear-gradient(135deg, #e8f8f5 0%, #f0f9ff 100%);
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            border: 1px solid rgba(78, 205, 196, 0.2);
        }

        .budget-item p {
            text-align: left;
            margin: 5px 0;
        }

        .budget-item strong {
            font-weight: 600;
            color: #2c3e50;
        }

        .budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .budget-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .budget-item .amount {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }

        .weather-widget {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            color: #2c3e50;
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            border: 1px solid rgba(78, 205, 196, 0.2);
        }

        .pet-tips {
            background: linear-gradient(135deg, #fce4ec 0%, #fff3e0 100%);
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            color: #2c3e50;
            border: 1px solid rgba(78, 205, 196, 0.2);
        }

        .emergency-contacts {
            background: linear-gradient(135deg, #ffebee 0%, #fce4ec 100%);
            color: #2c3e50;
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            border: 1px solid rgba(244, 67, 54, 0.2);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 地图标签样式 */
        .location-label, .location-label-with-leader {
            font-family: 'Microsoft YaHei', sans-serif !important;
            pointer-events: none; /* 避免标签阻挡地图交互 */
        }
        
        .location-label div, .location-label-with-leader div {
            transition: all 0.3s ease;
            cursor: default;
        }
        
        /* 引导线标签特殊样式 */
        .location-label-with-leader svg {
            transition: opacity 0.3s ease;
        }
        
        .location-label-with-leader.zoom-high svg line {
            stroke-width: 2;
        }
        
        .location-label-with-leader.zoom-medium svg line {
            stroke-width: 1.5;
        }
        
        .location-label-with-leader.zoom-low svg line {
            stroke-width: 1;
        }
        
        /* 不同缩放级别的标签样式 */
        .location-label.zoom-high div,
        .location-label-with-leader.zoom-high div {
            font-size: 12px !important;
            padding: 4px 10px !important;
        }
        
        .location-label.zoom-medium div,
        .location-label-with-leader.zoom-medium div {
            font-size: 10px !important;
            padding: 3px 8px !important;
        }
        
        .location-label.zoom-low div,
        .location-label-with-leader.zoom-low div {
            font-size: 8px !important;
            padding: 2px 6px !important;
        }
        
        /* 悬停效果 - 只在高缩放级别启用 */
        .location-label.zoom-high:hover div,
        .location-label-with-leader.zoom-high:hover div {
            transform: translateX(-50%) scale(1.1) !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3) !important;
        }
        
        .location-label-with-leader.zoom-high:hover svg {
            opacity: 1 !important;
        }

        /* 天气信息样式 */
        .weather-info {
            background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%);
            border-radius: 15px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid rgba(78, 205, 196, 0.3);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .weather-location {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            color: #2c3e50;
            font-size: 14px;
        }

        .weather-location i {
            color: #4ecdc4;
            font-size: 16px;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .weather-item {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.7);
            padding: 8px 10px;
            border-radius: 10px;
            font-size: 12px;
            color: #34495e;
            transition: all 0.3s ease;
        }

        .weather-item:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .weather-item i {
            font-size: 14px;
            width: 16px;
            text-align: center;
        }

        .weather-item i.fa-sun {
            color: #f39c12;
        }

        .weather-item i.fa-cloud-sun {
            color: #3498db;
        }

        .weather-item i.fa-eye {
            color: #27ae60;
        }

        .weather-item i.fa-wind {
            color: #95a5a6;
        }

        .weather-item i.fa-tint {
            color: #3498db;
        }

        .weather-temp {
            font-weight: 600;
            color: #2c3e50;
        }

        .weather-desc {
            color: #7f8c8d;
            font-style: italic;
        }

        /* 天气加载状态样式 */
        .weather-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            color: #4ecdc4;
            font-size: 14px;
        }

        .weather-loading i {
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            /* 移动端天气信息样式 */
            .weather-details {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .weather-item {
                font-size: 11px;
                padding: 6px 8px;
            }

            .weather-location {
                font-size: 13px;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                margin-bottom: 5px;
            }

            .hotel-card, .restaurant-card {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .trip-info {
                grid-template-columns: 1fr;
            }
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .highlight {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-car"></i> 十一内蒙古自驾游攻略</h1>
            <p><i class="fas fa-dog"></i> 带着比熊看草原 - 5天4晚环线之旅</p>
            
            <div class="trip-info">
                <div class="info-card">
                    <i class="fas fa-calendar-alt"></i>
                    <h4>出行时间</h4>
                    <p>2025年9月29日</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-users"></i>
                    <h4>出行人员</h4>
                    <p>2人 + 1比熊</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-car"></i>
                    <h4>车辆信息</h4>
                    <p>领克06</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-route"></i>
                    <h4>总里程</h4>
                    <p>约2000公里</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-yen-sign"></i>
                    <h4>预算范围</h4>
                    <p>6790-8490元</p>
                </div>
            </div>
        </div>

        <div class="nav-tabs">
            <div class="nav-tab active" onclick="showSection('overview', event)">
                <i class="fas fa-home"></i> 行程概览
            </div>
            <div class="nav-tab" onclick="showSection('daily', event)">
                <i class="fas fa-calendar-day"></i> 每日行程
            </div>
            <div class="nav-tab" onclick="showSection('accommodation', event)">
                <i class="fas fa-bed"></i> 住宿餐饮
            </div>
            <div class="nav-tab" onclick="showSection('photography', event)">
                <i class="fas fa-camera"></i> 摄影指南
            </div>
            <div class="nav-tab" onclick="showSection('utilities', event)">
                <i class="fas fa-tools"></i> 实用工具
            </div>
        </div>

        <!-- 行程概览 -->
        <div id="overview" class="content-section active">
            <h2><i class="fas fa-route"></i> 行程概览</h2>
            
            <div class="route-info">
                <h4><i class="fas fa-map-pin"></i> 环线路线设计</h4>
                <p><strong class="highlight">北京顺义</strong> → <strong class="highlight">赤峰</strong> → <strong class="highlight">玉龙沙湖</strong> → <strong class="highlight">克什克腾旗</strong> → <strong class="highlight">热阿线</strong> → <strong class="highlight">达里湖</strong> → <strong class="highlight">达达线</strong> → <strong class="highlight">乌兰布统</strong> → <strong class="highlight">塞罕坝</strong> → <strong class="highlight">北京顺义</strong></p>
            </div>

            <div class="map-container">
                <div id="overviewMap" style="height: 100%; width: 100%;">
                    <div class="loading" style="display: flex; align-items: center; justify-content: center; height: 100%; flex-direction: column; color: #7f8c8d;">
                        <div class="spinner" style="border: 3px solid #f3f3f3; border-top: 3px solid #4ecdc4; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin-bottom: 10px;"></div>
                        <p>正在加载地图...</p>
                    </div>
                </div>
            </div>

            <div class="budget-summary">
                <h3><i class="fas fa-calculator"></i> 费用预算总览</h3>
                <div class="budget-grid">
                    <div class="budget-item">
                        <h4>交通费用</h4>
                        <div class="amount">1700-1900元</div>
                        <p>过路费、油费、停车费</p>
                    </div>
                    <div class="budget-item">
                        <h4>住宿费用</h4>
                        <div class="amount">1250-1750元</div>
                        <p>4晚宠物友好酒店</p>
                    </div>
                    <div class="budget-item">
                        <h4>餐饮费用</h4>
                        <div class="amount">1000-1500元</div>
                        <p>5天三餐及特色美食</p>
                    </div>
                    <div class="budget-item">
                        <h4>景点门票</h4>
                        <div class="amount">1340元</div>
                        <p>主要景区门票</p>
                    </div>
                    <div class="budget-item">
                        <h4>其他费用</h4>
                        <div class="amount">1500-2000元</div>
                        <p>上牌、贴膜、应急备用</p>
                    </div>
                </div>
            </div>

            <div class="pet-tips">
                <h3><i class="fas fa-dog"></i> 宠物出行要点</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-suitcase"></i> 必备物品</h4>
                        <ul>
                            <li>宠物航空箱或车载座椅</li>
                            <li>牵引绳、胸背带</li>
                            <li>食物、水碗、便便袋</li>
                            <li>疫苗证、健康证</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-shield-alt"></i> 安全提醒</h4>
                        <ul>
                            <li>每2小时让宠物下车活动</li>
                            <li>车内保持适宜温度</li>
                            <li>准备防晕车药品</li>
                            <li>随时清理排泄物</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 每日行程 -->
        <div id="daily" class="content-section">
            <h2><i class="fas fa-calendar-day"></i> 每日详细行程</h2>
            
            <!-- Day 1 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Day 1 - 9月29日（周日）</span>
                </div>
                
                <!-- 天气信息 -->
                <div class="weather-info">
                    <div class="weather-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <strong>北京顺义 → 赤峰市</strong>
                    </div>
                    <div class="weather-details">
                        <div class="weather-item">
                            <i class="fas fa-sun"></i>
                            <span class="weather-temp">18°C / 8°C</span>
                            <span class="weather-desc">晴转多云</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-eye"></i>
                            <span>能见度良好</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-wind"></i>
                            <span>西北风 2-3级</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-tint"></i>
                            <span>湿度 45%</span>
                        </div>
                    </div>
                </div>
                
                <div class="route-info">
                    <h4><i class="fas fa-route"></i> 驾驶路线：北京顺义 → 赤峰市</h4>
                    <p><strong>总距离：</strong>377公里 | <strong>预计时间：</strong>4小时40分钟 | <strong>出发时间：</strong>07:00</p>
                    <p><strong>详细路线：</strong>顺义 → G101国道 → G45大广高速 → G25长深高速 → 赤峰市区</p>
                    <p><strong>GPS坐标：</strong>起点 40.13°N, 116.65°E → 终点 42.27°N, 118.96°E</p>
                    <div style="margin: 10px 0;">
                        <a href="#" class="nav-button" onclick="navigateToLocation(42.27, 118.96, '赤峰市')">
                            <i class="fas fa-navigation"></i> 高德导航
                        </a>
                    </div>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <strong>07:00</strong> - 北京顺义出发
                        <p>路线：G101 → G45大广高速 → G25长深高速</p>
                    </div>
                    <div class="timeline-item">
                        <strong>09:00-09:20</strong> - 承德服务区休息
                        <p>第一次休息，宠物活动、加油、简单用餐</p>
                    </div>
                    <div class="timeline-item">
                        <strong>11:20-11:40</strong> - 平泉服务区休息
                        <p>第二次休息，检查车况、宠物喝水</p>
                    </div>
                    <div class="timeline-item">
                        <strong>12:30</strong> - 到达赤峰市
                        <p>预计到达时间，入住酒店</p>
                    </div>
                    <div class="timeline-item">
                        <strong>14:30-17:00</strong> - 赤峰车管所上牌
                        <p>办理新车上牌手续</p>
                    </div>
                    <div class="timeline-item">
                        <strong>17:30-19:00</strong> - 汽车贴膜
                        <p>给新车贴太阳膜</p>
                    </div>
                </div>

                <div class="hotel-card">
                    <div class="hotel-info">
                        <h4><i class="fas fa-bed"></i> 赤峰维也纳国际酒店</h4>
                        <p><i class="fas fa-map-marker-alt"></i> 地址：赤峰市红山区</p>
                        <p><i class="fas fa-dog"></i> 宠物友好 | <i class="fas fa-car"></i> 地下停车场</p>
                    </div>
                    <div>
                        <div class="price-tag">300-450元/晚</div>
                        <a href="#" class="nav-button" onclick="navigateToLocation(118.956, 42.275, '赤峰维也纳国际酒店')">
                            <i class="fas fa-navigation"></i> 导航
                        </a>
                    </div>
                </div>
            </div>

            <!-- Day 2 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Day 2 - 9月30日（周一）</span>
                </div>
                
                <!-- 天气信息 -->
                <div class="weather-info">
                    <div class="weather-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <strong>赤峰 → 玉龙沙湖 → 克什克腾旗</strong>
                    </div>
                    <div class="weather-details">
                        <div class="weather-item">
                            <i class="fas fa-cloud-sun"></i>
                            <span class="weather-temp">16°C / 5°C</span>
                            <span class="weather-desc">多云转晴</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-eye"></i>
                            <span>能见度极佳</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-wind"></i>
                            <span>西风 1-2级</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-tint"></i>
                            <span>湿度 35%</span>
                        </div>
                    </div>
                </div>
                
                <div class="route-info">
                    <h4><i class="fas fa-route"></i> 驾驶路线：赤峰 → 玉龙沙湖 → 克什克腾旗</h4>
                    <p><strong>上午段：</strong>赤峰→玉龙沙湖（90km，1.5h）</p>
                    <p><strong>路线：</strong>赤峰市区 → S206省道 → 玉龙沙湖景区</p>
                    <p><strong>GPS：</strong>42.27°N, 118.96°E → 42.11°N, 119.02°E</p>
                    <div style="margin: 10px 0;">
                        <a href="#" class="nav-button" onclick="navigateToLocation(42.11, 119.02, '玉龙沙湖')">
                            <i class="fas fa-navigation"></i> 导航至玉龙沙湖
                        </a>
                    </div>
                    
                    <p><strong>下午段：</strong>玉龙沙湖→克什克腾旗（120km，2h）</p>
                    <p><strong>路线：</strong>玉龙沙湖 → 313乡道 → 经棚镇 → 克什克腾旗</p>
                    <p><strong>GPS：</strong>42.11°N, 119.02°E → 43.26°N, 117.55°E</p>
                    <div style="margin: 10px 0;">
                        <a href="#" class="nav-button" onclick="navigateToLocation(43.26, 117.55, '克什克腾旗')">
                            <i class="fas fa-navigation"></i> 导航至克什克腾旗
                        </a>
                    </div>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <strong>08:30</strong> - 从赤峰出发
                        <p>路线：S206省道 → 玉龙沙湖景区</p>
                    </div>
                    <div class="timeline-item">
                        <strong>10:00-10:15</strong> - 翁牛特旗休息点
                        <p>中途休息，宠物活动</p>
                    </div>
                    <div class="timeline-item">
                        <strong>10:30-15:00</strong> - 玉龙沙湖游玩
                        <p>沙漠、湖泊、草原三重景观，摄影绝佳</p>
                        <div class="photo-tips">
                            <h4><i class="fas fa-camera"></i> 拍摄要点</h4>
                            <p>最佳时间：10:00-11:00, 16:00-17:00 | 推荐机位：沙丘顶部俯拍、湖边仰拍沙丘轮廓</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <strong>15:30</strong> - 前往克什克腾旗
                        <p>路线：313乡道，注意限速</p>
                    </div>
                    <div class="timeline-item">
                        <strong>16:45-17:00</strong> - 经棚镇休息点
                        <p>行驶1小时后休息，宠物活动</p>
                    </div>
                </div>
            </div>

            <!-- Day 3 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Day 3 - 10月1日（周二）- 精华日</span>
                </div>
                
                <!-- 天气信息 -->
                <div class="weather-info">
                    <div class="weather-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <strong>克什克腾旗 → 达里湖 → 热阿线 → 乌兰布统</strong>
                    </div>
                    <div class="weather-details">
                        <div class="weather-item">
                            <i class="fas fa-sun"></i>
                            <span class="weather-temp">14°C / 2°C</span>
                            <span class="weather-desc">晴朗</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-eye"></i>
                            <span>能见度优秀</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-wind"></i>
                            <span>北风 2-3级</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-tint"></i>
                            <span>湿度 30%</span>
                        </div>
                    </div>
                </div>
                
                <div class="route-info">
                    <h4><i class="fas fa-route"></i> 复合驾驶路线：克什克腾旗 → 达里湖 → 热阿线 → 达达线 → 乌兰布统</h4>
                    <p><strong>特色：</strong>两条最美公路 + 内蒙古第二大湖泊 | <strong>出发时间：</strong>07:00</p>
                    
                    <div style="background: rgba(255,255,255,0.8); padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>🚗 第1段：</strong>克什克腾旗 → 达里湖（90km，1.5h）</p>
                        <p><strong>路线：</strong>经棚镇 → 306国道 → 达里湖景区</p>
                        <p><strong>GPS：</strong>43.26°N, 117.55°E → 43.32°N, 116.64°E</p>
                        <a href="#" class="nav-button" onclick="navigateToLocation(43.32, 116.64, '达里湖')">
                            <i class="fas fa-navigation"></i> 导航至达里湖
                        </a>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.8); padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>🚗 第2段：</strong>达里湖 → 热阿线起点（50km，1h）</p>
                        <p><strong>路线：</strong>达里湖 → 热水塘镇 → 热阿线</p>
                        <p><strong>GPS：</strong>43.32°N, 116.64°E → 43.52°N, 117.23°E</p>
                        <a href="#" class="nav-button" onclick="navigateToLocation(43.52, 117.23, '热阿线起点')">
                            <i class="fas fa-navigation"></i> 导航至热阿线
                        </a>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.8); padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>🚗 第3段：</strong>热阿线 → 达达线（30km，0.5h）</p>
                        <p><strong>路线：</strong>阿斯哈图石林 → 连接道路 → 达达线</p>
                        <p><strong>特色：</strong>两条最美草原公路连线游览</p>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.8); padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>🚗 第4段：</strong>达达线 → 乌兰布统（40km，1h）</p>
                        <p><strong>路线：</strong>达达线 → G1611克承高速 → 乌兰布统</p>
                        <p><strong>GPS：</strong>终点 42.35°N, 116.87°E</p>
                        <a href="#" class="nav-button" onclick="navigateToLocation(42.35, 116.87, '乌兰布统')">
                            <i class="fas fa-navigation"></i> 导航至乌兰布统
                        </a>
                    </div>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <strong>07:00</strong> - 克什克腾旗出发
                        <p>路线：306国道 → 达里湖景区</p>
                    </div>
                    <div class="timeline-item">
                        <strong>08:15-08:30</strong> - 中途休息点
                        <p>45分钟后休息15分钟</p>
                    </div>
                    <div class="timeline-item">
                        <strong>08:45-11:00</strong> - 达里湖游览
                        <p>内蒙古第二大内陆湖，候鸟观赏，碧海银滩</p>
                        <div class="photo-tips">
                            <h4><i class="fas fa-camera"></i> 拍摄要点</h4>
                            <p>最佳时间：日出后1小时（07:30-08:30） | 推荐：候鸟飞翔抓拍、湖边芦苇荡人像</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <strong>11:00-12:00</strong> - 前往热阿线
                        <p>经热水塘镇，1小时车程</p>
                    </div>
                    <div class="timeline-item">
                        <strong>13:00-14:30</strong> - 热阿线深度游
                        <p>阿斯哈图石林奇观，石林与草原对比</p>
                        <div class="photo-tips">
                            <h4><i class="fas fa-camera"></i> 热阿线特色</h4>
                            <p>地质奇观为主，石林造型独特，白桦林中的石林剪影</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <strong>14:30-15:00</strong> - 转换至达达线
                        <p>30公里转换路线</p>
                    </div>
                    <div class="timeline-item">
                        <strong>15:00-16:30</strong> - 达达线精华段
                        <p>纯草原公路美学，经典公路大片拍摄</p>
                        <div class="photo-tips">
                            <h4><i class="fas fa-camera"></i> 达达线特色</h4>
                            <p>公路延伸感大片，白桦林隧道光影，车与无际草原对比</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <strong>17:30</strong> - 到达乌兰布统
                        <p>草原日落摄影，影视基地游览</p>
                    </div>
                </div>
            </div>

            <!-- Day 4 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Day 4 - 10月2日（周三）</span>
                </div>
                
                <!-- 天气信息 -->
                <div class="weather-info">
                    <div class="weather-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <strong>乌兰布统 → 塞罕坝国家森林公园</strong>
                    </div>
                    <div class="weather-details">
                        <div class="weather-item">
                            <i class="fas fa-cloud-sun"></i>
                            <span class="weather-temp">12°C / 0°C</span>
                            <span class="weather-desc">多云间晴</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-eye"></i>
                            <span>能见度良好</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-wind"></i>
                            <span>西北风 2级</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-tint"></i>
                            <span>湿度 40%</span>
                        </div>
                    </div>
                </div>
                
                <div class="route-info">
                    <h4><i class="fas fa-route"></i> 路线：乌兰布统 → 塞罕坝国家森林公园</h4>
                    <p><strong>距离：</strong>60公里 | <strong>时间：</strong>1.5小时 | <strong>特色：</strong>秋季彩林</p>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <strong>08:30</strong> - 乌兰布统出发
                        <p>路线：304省道 → 御道口 → 塞罕坝</p>
                    </div>
                    <div class="timeline-item">
                        <strong>09:45-10:00</strong> - 御道口休息点
                        <p>景区道路中途休息</p>
                    </div>
                    <div class="timeline-item">
                        <strong>10:30-12:00</strong> - 七星湖游览
                        <p>秋季彩林，湖光山色</p>
                    </div>
                    <div class="timeline-item">
                        <strong>13:30-15:00</strong> - 塞罕塔
                        <p>登高望远，俯瞰森林全景</p>
                    </div>
                    <div class="timeline-item">
                        <strong>15:30-17:00</strong> - 月亮湖
                        <p>湖泊倒影，森林晨雾拍摄</p>
                    </div>
                </div>
            </div>

            <!-- Day 5 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-calendar-day"></i>
                    <span>Day 5 - 10月3日（周四）- 返程日</span>
                </div>
                
                <!-- 天气信息 -->
                <div class="weather-info">
                    <div class="weather-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <strong>塞罕坝 → 承德 → 北京顺义</strong>
                    </div>
                    <div class="weather-details">
                        <div class="weather-item">
                            <i class="fas fa-sun"></i>
                            <span class="weather-temp">15°C / 4°C</span>
                            <span class="weather-desc">晴</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-eye"></i>
                            <span>能见度极佳</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-wind"></i>
                            <span>南风 1-2级</span>
                        </div>
                        <div class="weather-item">
                            <i class="fas fa-tint"></i>
                            <span>湿度 38%</span>
                        </div>
                    </div>
                </div>
                
                <div class="route-info">
                    <h4><i class="fas fa-route"></i> 路线：塞罕坝 → 承德 → 北京顺义</h4>
                    <p><strong>总距离：</strong>450公里 | <strong>预计时间：</strong>5.5小时（含休息）</p>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <strong>08:00</strong> - 塞罕坝出发
                        <p>路线：G111 → 承德市区</p>
                    </div>
                    <div class="timeline-item">
                        <strong>10:00-10:20</strong> - 围场县服务区
                        <p>第一次休息</p>
                    </div>
                    <div class="timeline-item">
                        <strong>12:00-13:30</strong> - 承德市区午餐休息
                        <p>可选游览承德避暑山庄外围</p>
                    </div>
                    <div class="timeline-item">
                        <strong>15:30-15:50</strong> - 密云服务区
                        <p>最后一次休息</p>
                    </div>
                    <div class="timeline-item">
                        <strong>17:00-18:00</strong> - 到达北京顺义
                        <p>旅程结束，安全到家</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- 住宿餐饮 -->
        <div id="accommodation" class="content-section">
            <h2><i class="fas fa-bed"></i> 住宿餐饮推荐</h2>
            
            <h3><i class="fas fa-hotel"></i> 精选宠物友好酒店</h3>
            
            <!-- Day 1 住宿 -->
            <div class="hotel-card">
                <div class="hotel-info">
                    <h4><i class="fas fa-bed"></i> 赤峰维也纳国际酒店</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 赤峰市红山区新华路</p>
                    <p><i class="fas fa-dog"></i> 宠物友好 | <i class="fas fa-car"></i> 地下停车场 | <i class="fas fa-wifi"></i> 免费WiFi</p>
                    <p><i class="fas fa-star"></i> 4星级酒店，设施完善，服务优质</p>
                </div>
                <div>
                    <div class="price-tag">300-450元/晚</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(118.956, 42.275, '赤峰维也纳国际酒店')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <!-- Day 2 住宿 -->
            <div class="hotel-card">
                <div class="hotel-info">
                    <h4><i class="fas fa-bed"></i> 克什克腾旗草原度假酒店</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 克什克腾旗经棚镇</p>
                    <p><i class="fas fa-dog"></i> 宠物友好 | <i class="fas fa-tree"></i> 有院落供宠物活动 | <i class="fas fa-mountain"></i> 草原风光</p>
                    <p><i class="fas fa-star"></i> 草原特色酒店，环境优美，适合宠物</p>
                </div>
                <div>
                    <div class="price-tag">280-380元/晚</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(117.545, 43.264, '克什克腾旗草原度假酒店')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <!-- Day 3 住宿 -->
            <div class="hotel-card">
                <div class="hotel-info">
                    <h4><i class="fas fa-bed"></i> 乌兰布统草原假日酒店</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 乌兰布统苏木</p>
                    <p><i class="fas fa-dog"></i> 宠物友好 | <i class="fas fa-horse"></i> 草原环境 | <i class="fas fa-camera"></i> 观星住宿</p>
                    <p><i class="fas fa-star"></i> 草原核心区域，夜晚可观星，摄影绝佳</p>
                </div>
                <div>
                    <div class="price-tag">350-500元/晚</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(116.872, 42.354, '乌兰布统草原假日酒店')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <!-- Day 4 住宿 -->
            <div class="hotel-card">
                <div class="hotel-info">
                    <h4><i class="fas fa-bed"></i> 塞罕坝森林酒店</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 塞罕坝机械林场</p>
                    <p><i class="fas fa-dog"></i> 宠物友好 | <i class="fas fa-tree"></i> 森林环境清新 | <i class="fas fa-thermometer-half"></i> 天然氧吧</p>
                    <p><i class="fas fa-star"></i> 森林度假酒店，空气清新，适合休养</p>
                </div>
                <div>
                    <div class="price-tag">320-420元/晚</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(117.234, 42.024, '塞罕坝森林酒店')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <h3><i class="fas fa-utensils"></i> 特色餐饮推荐</h3>
            
            <!-- 餐厅推荐 -->
            <div class="restaurant-card">
                <div class="restaurant-info">
                    <h4><i class="fas fa-utensils"></i> 玉龙沙湖景区蒙古特色餐厅</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 玉龙沙湖景区内</p>
                    <p><i class="fas fa-medal"></i> 特色：烤全羊、手把肉、奶茶、炸果子</p>
                    <p><i class="fas fa-clock"></i> 营业时间：10:00-20:00</p>
                </div>
                <div>
                    <div class="price-tag">人均80-120元</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(119.021, 42.110, '玉龙沙湖餐厅')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <div class="restaurant-card">
                <div class="restaurant-info">
                    <h4><i class="fas fa-utensils"></i> 热阿线沿途蒙古包餐厅</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 热阿线中段</p>
                    <p><i class="fas fa-medal"></i> 特色：草原羊肉、马奶酒、蒙古包用餐体验</p>
                    <p><i class="fas fa-clock"></i> 营业时间：11:00-21:00</p>
                </div>
                <div>
                    <div class="price-tag">人均60-100元</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(117.234, 43.523, '热阿线蒙古包餐厅')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <div class="restaurant-card">
                <div class="restaurant-info">
                    <h4><i class="fas fa-utensils"></i> 塞罕坝森林餐厅</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 塞罕坝国家森林公园内</p>
                    <p><i class="fas fa-medal"></i> 特色：野菜、山珍、森林蘑菇、有机食材</p>
                    <p><i class="fas fa-clock"></i> 营业时间：07:00-19:00</p>
                </div>
                <div>
                    <div class="price-tag">人均50-80元</div>
                    <a href="#" class="nav-button" onclick="navigateToLocation(117.234, 42.024, '塞罕坝森林餐厅')">
                        <i class="fas fa-navigation"></i> 导航
                    </a>
                </div>
            </div>

            <div class="pet-tips">
                <h3><i class="fas fa-dog"></i> 宠物餐饮注意事项</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-exclamation-triangle"></i> 饮食安全</h4>
                        <ul>
                            <li>避免给宠物喂食人类食物</li>
                            <li>特别注意：洋葱、大蒜、巧克力等有害食物</li>
                            <li>携带宠物专用食物和零食</li>
                            <li>保持饮水清洁充足</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-utensils"></i> 用餐礼仪</h4>
                        <ul>
                            <li>进餐厅前确认宠物政策</li>
                            <li>宠物需牵绳，保持安静</li>
                            <li>选择户外用餐区域</li>
                            <li>随时清理宠物排泄物</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 摄影指南 -->
        <div id="photography" class="content-section">
            <h2><i class="fas fa-camera"></i> 摄影指南</h2>
            
            <div class="photo-tips">
                <h3><i class="fas fa-sun"></i> 最佳拍摄时间</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-sunrise"></i> 日出</h4>
                        <p><strong>时间：</strong>06:30-07:30</p>
                        <p>柔和光线，适合湖泊倒影、森林晨雾</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-sun"></i> 日落</h4>
                        <p><strong>时间：</strong>17:30-18:30</p>
                        <p>暖色调光线，适合草原剪影、公路大片</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-moon"></i> 蓝调时刻</h4>
                        <p><strong>时间：</strong>日落后30分钟</p>
                        <p>天空呈现深蓝色，适合夜景拍摄</p>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-map-pin"></i> 推荐拍摄点详解</h3>

            <!-- 玉龙沙湖 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-camera"></i>
                    <span>玉龙沙湖 - 沙漠绿洲奇观</span>
                </div>
                <div class="photo-tips">
                    <h4><i class="fas fa-clock"></i> 最佳拍摄时间</h4>
                    <p>上午10:00-11:00，下午16:00-17:00</p>
                    
                    <h4><i class="fas fa-camera-retro"></i> 推荐机位</h4>
                    <ul>
                        <li><strong>沙丘顶部俯拍：</strong>湖景全貌，沙水对比</li>
                        <li><strong>湖边仰拍：</strong>沙丘轮廓，层次丰富</li>
                        <li><strong>沙漠绿洲：</strong>对比强烈的构图</li>
                    </ul>
                    
                    <h4><i class="fas fa-palette"></i> 拍照道具</h4>
                    <p>飘逸长裙、墨镜、帽子、沙滩风格服装</p>
                    
                    <h4><i class="fas fa-dog"></i> 宠物拍照</h4>
                    <p>沙滩足印、宠物剪影、与沙丘的对比</p>
                </div>
            </div>

            <!-- 达里湖 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-camera"></i>
                    <span>达里湖 - 候鸟天堂</span>
                </div>
                <div class="photo-tips">
                    <h4><i class="fas fa-clock"></i> 最佳拍摄时间</h4>
                    <p>日出后1小时（07:30-08:30），候鸟最活跃</p>
                    
                    <h4><i class="fas fa-camera-retro"></i> 推荐机位</h4>
                    <ul>
                        <li><strong>南岸碧海银滩：</strong>全景拍摄</li>
                        <li><strong>候鸟飞翔：</strong>需长焦镜头抓拍</li>
                        <li><strong>芦苇荡人像：</strong>湖边自然背景</li>
                    </ul>
                    
                    <h4><i class="fas fa-exclamation-triangle"></i> 注意事项</h4>
                    <p>保持安静，避免惊扰候鸟；宠物需牵绳</p>
                </div>
            </div>

            <!-- 热阿线 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-camera"></i>
                    <span>热阿线 - 石林风光</span>
                </div>
                <div class="photo-tips">
                    <h4><i class="fas fa-clock"></i> 最佳拍摄时间</h4>
                    <p>下午侧光（13:00-14:30），石林纹理清晰</p>
                    
                    <h4><i class="fas fa-camera-retro"></i> 推荐机位</h4>
                    <ul>
                        <li><strong>阿斯哈图石林：</strong>奇特地质造型</li>
                        <li><strong>石林与草原：</strong>对比构图</li>
                        <li><strong>白桦林石林剪影：</strong>层次丰富</li>
                    </ul>
                    
                    <h4><i class="fas fa-shield-alt"></i> 安全提醒</h4>
                    <p>石林区域注意脚下安全，避免攀爬</p>
                </div>
            </div>

            <!-- 达达线 -->
            <div class="day-card">
                <div class="day-title">
                    <i class="fas fa-camera"></i>
                    <span>达达线 - 草原公路</span>
                </div>
                <div class="photo-tips">
                    <h4><i class="fas fa-clock"></i> 最佳拍摄时间</h4>
                    <p>下午阳光侧逆光（15:00-16:30）</p>
                    
                    <h4><i class="fas fa-camera-retro"></i> 推荐机位</h4>
                    <ul>
                        <li><strong>公路中央：</strong>延伸感大片</li>
                        <li><strong>白桦林隧道：</strong>光影效果</li>
                        <li><strong>车与草原：</strong>对比构图</li>
                        <li><strong>牛羊群点缀：</strong>生动的牧场风光</li>
                    </ul>
                    
                    <h4><i class="fas fa-exclamation-triangle"></i> 安全提醒</h4>
                    <p>注意来往车辆，快速拍摄，不要长时间占用车道</p>
                </div>
            </div>

            <h3><i class="fas fa-cogs"></i> 摄影装备建议</h3>
            <div class="tips-grid">
                <div class="tip-card">
                    <h4><i class="fas fa-camera"></i> 镜头选择</h4>
                    <ul>
                        <li><strong>广角镜头：</strong>拍摄草原全景</li>
                        <li><strong>长焦镜头：</strong>拍摄动物、远景</li>
                        <li><strong>标准镜头：</strong>人像、日常拍摄</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-tools"></i> 配件装备</h4>
                    <ul>
                        <li><strong>偏振镜：</strong>增强天空对比</li>
                        <li><strong>三脚架：</strong>日出日落拍摄</li>
                        <li><strong>快门线：</strong>避免机震</li>
                        <li><strong>备用电池：</strong>低温消耗快</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-tshirt"></i> 服装搭配</h4>
                    <ul>
                        <li><strong>草原风格：</strong>白色、米色、卡其色长裙</li>
                        <li><strong>森林风格：</strong>暖色系针织衫</li>
                        <li><strong>湖泊风格：</strong>蓝色、白色清新系</li>
                        <li><strong>公路风格：</strong>休闲运动装</li>
                    </ul>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-gift"></i> 拍照道具</h4>
                    <ul>
                        <li>野餐垫、花束、气球</li>
                        <li>复古相机、书籍</li>
                        <li>民族风饰品、丝巾</li>
                        <li>宠物专用拍照道具</li>
                    </ul>
                </div>
            </div>

            <div class="pet-tips">
                <h3><i class="fas fa-dog"></i> 宠物拍照攻略</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-running"></i> 动态拍摄</h4>
                        <p><strong>草原奔跑照：</strong>连拍模式捕捉动态美</p>
                        <p><strong>技巧：</strong>使用运动模式，快门速度1/500s以上</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-mountain"></i> 风景合影</h4>
                        <p><strong>前景点缀：</strong>宠物作为前景增加趣味</p>
                        <p><strong>技巧：</strong>使用小光圈保证前后景清晰</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-heart"></i> 互动瞬间</h4>
                        <p><strong>温馨时刻：</strong>主人与宠物的自然互动</p>
                        <p><strong>技巧：</strong>抓拍真实情感，避免摆拍</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-sun"></i> 剪影效果</h4>
                        <p><strong>日落剪影：</strong>利用逆光拍摄轮廓</p>
                        <p><strong>技巧：</strong>对天空测光，宠物呈现剪影</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 实用工具 -->
        <div id="utilities" class="content-section">
            <h2><i class="fas fa-tools"></i> 实用工具</h2>
            
            <div class="weather-widget">
                <h3><i class="fas fa-cloud-sun"></i> 天气预报</h3>
                <p>出行前请关注目的地天气变化，适时调整行程安排</p>
                <div style="margin: 15px 0;">
                    <button onclick="refreshWeatherData()" class="nav-button">
                        <i class="fas fa-sync-alt"></i> 刷新天气信息
                    </button>
                    <span id="weather-update-time" style="margin-left: 10px; color: #7f8c8d; font-size: 12px;"></span>
                </div>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-thermometer-half"></i> 温度提醒</h4>
                        <p>十月初内蒙古昼夜温差大，白天15-20°C，夜晚可降至5-10°C</p>
                        <p>建议携带保暖衣物，洋葱式穿衣法</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-cloud-rain"></i> 降水情况</h4>
                        <p>十月为干燥季节，降水较少，但需防范突发天气</p>
                        <p>建议携带雨具，关注天气预报</p>
                    </div>
                </div>
            </div>

            <div class="budget-summary">
                <h3><i class="fas fa-calculator"></i> 费用计算器</h3>
                <div class="budget-grid">
                    <div class="budget-item">
                        <h4>交通费用明细</h4>
                        <p><strong>过路费：</strong>600-800元</p>
                        <p><strong>油费：</strong>约900元（2000km×6L/100km×7.5元/L）</p>
                        <p><strong>停车费：</strong>约200元</p>
                        <div class="amount">小计：1700-1900元</div>
                    </div>
                    <div class="budget-item">
                        <h4>住宿费用明细</h4>
                        <p><strong>Day1 赤峰：</strong>300-450元</p>
                        <p><strong>Day2 克什克腾：</strong>280-380元</p>
                        <p><strong>Day3 乌兰布统：</strong>350-500元</p>
                        <p><strong>Day4 塞罕坝：</strong>320-420元</p>
                        <div class="amount">小计：1250-1750元</div>
                    </div>
                    <div class="budget-item">
                        <h4>门票费用明细</h4>
                        <p><strong>玉龙沙湖：</strong>240元（120×2）</p>
                        <p><strong>达里湖：</strong>180元（90×2）</p>
                        <p><strong>热阿线石林：</strong>160元（80×2，可选）</p>
                        <p><strong>乌兰布统：</strong>300元（150×2）</p>
                        <p><strong>塞罕坝：</strong>260元（130×2）</p>
                        <p><strong>其他小景点：</strong>200元</p>
                        <div class="amount">小计：1340元</div>
                    </div>
                    <div class="budget-item">
                        <h4>餐饮费用明细</h4>
                        <p><strong>早餐：</strong>30-50元/天</p>
                        <p><strong>午餐：</strong>80-120元/天</p>
                        <p><strong>晚餐：</strong>100-150元/天</p>
                        <p><strong>特色小食：</strong>50元/天</p>
                        <div class="amount">小计：1000-1500元</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div class="price-tag" style="font-size: 1.2em;">
                        总预算：6790-8490元
                    </div>
                </div>
            </div>

            <div class="emergency-contacts">
                <h3><i class="fas fa-first-aid"></i> 应急预案</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-car-crash"></i> 车辆故障</h4>
                        <ul>
                            <li><strong>检查：</strong>出发前检查轮胎、工具包</li>
                            <li><strong>救援：</strong>道路救援电话 12122</li>
                            <li><strong>保险：</strong>记录保险公司救援电话</li>
                            <li><strong>备件：</strong>携带基本维修工具</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-cloud-rain"></i> 恶劣天气</h4>
                        <ul>
                            <li><strong>预防：</strong>关注天气预报</li>
                            <li><strong>备选：</strong>室内活动方案</li>
                            <li><strong>装备：</strong>雨具、防寒衣物</li>
                            <li><strong>安全：</strong>恶劣天气避免驾驶</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-dog"></i> 宠物突发</h4>
                        <ul>
                            <li><strong>医院：</strong>当地宠物医院联系方式</li>
                            <li><strong>药品：</strong>常用宠物药品</li>
                            <li><strong>保险：</strong>宠物保险（如有）</li>
                            <li><strong>急救：</strong>基本宠物急救知识</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-phone"></i> 紧急联系</h4>
                        <ul>
                            <li><strong>旅游热线：</strong>当地旅游服务</li>
                            <li><strong>酒店前台：</strong>住宿酒店电话</li>
                            <li><strong>家人朋友：</strong>紧急联系人</li>
                            <li><strong>领事馆：</strong>如需领事保护</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="day-card">
                <h3><i class="fas fa-list-check"></i> 出行清单</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-id-card"></i> 证件类</h4>
                        <ul>
                            <li>身份证、驾驶证、行驶证</li>
                            <li>保险单、车辆合格证</li>
                            <li>宠物疫苗证、健康证</li>
                            <li>银行卡、现金</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-tshirt"></i> 衣物类</h4>
                        <ul>
                            <li>保暖外套、冲锋衣</li>
                            <li>拍照服装（多套风格）</li>
                            <li>舒适运动鞋、徒步鞋</li>
                            <li>帽子、墨镜、手套</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-camera"></i> 摄影类</h4>
                        <ul>
                            <li>相机、镜头、三脚架</li>
                            <li>充电器、备用电池</li>
                            <li>存储卡、读卡器</li>
                            <li>清洁用品、防护罩</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-dog"></i> 宠物类</h4>
                        <ul>
                            <li>宠物食物、零食、药品</li>
                            <li>水碗、食盆、便便袋</li>
                            <li>牵引绳、胸背带、项圈</li>
                            <li>宠物毯子、玩具、航空箱</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="emergency-contacts">
                <h3><i class="fas fa-exclamation-triangle"></i> 应急联系方式</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-phone"></i> 紧急电话</h4>
                        <ul>
                            <li><strong>道路救援：</strong>12122</li>
                            <li><strong>报警电话：</strong>110</li>
                            <li><strong>医疗急救：</strong>120</li>
                            <li><strong>消防救援：</strong>119</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-hospital"></i> 沿途医院</h4>
                        <ul>
                            <li><strong>承德市中心医院：</strong>0314-2279999</li>
                            <li><strong>赤峰市医院：</strong>0476-8361000</li>
                            <li><strong>克什克腾旗人民医院：</strong>0476-5226120</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-map-signs"></i> 重要GPS坐标</h4>
                        <ul>
                            <li><strong>赤峰市车管所：</strong>42.245°N, 118.885°E</li>
                            <li><strong>达里湖加油站：</strong>43.298°N, 116.665°E</li>
                            <li><strong>乌兰布统游客中心：</strong>42.364°N, 116.862°E</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-tools"></i> 导航建议</h4>
                        <ul>
                            <li>使用高德地图或百度地图最新版本</li>
                            <li>提前下载离线地图（草原地区信号较弱）</li>
                            <li>备用纸质地图</li>
                            <li>关注实时路况信息</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // 页面切换功能
        function showSection(sectionId, event) {
            // 隐藏所有内容区域
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // 移除所有标签的激活状态
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 显示选中的内容区域
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // 激活选中的标签
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                // 如果没有event参数，找到对应的标签并激活
                const targetTab = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
                if (targetTab) {
                    targetTab.classList.add('active');
                }
            }
            
            // 如果是概览页面，初始化地图
            if (sectionId === 'overview') {
                setTimeout(() => {
                    initOverviewMap();
                }, 200);
            }
        }

        // 导航功能
        function navigateToLocation(lat, lng, name) {
            // 使用高德地图导航
            const amapUrl = `https://uri.amap.com/marker?position=${lng},${lat}&name=${encodeURIComponent(name)}&src=mypage`;
            
            // 检测设备类型
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                // 移动设备，直接打开
                window.open(amapUrl, '_blank');
            } else {
                // 桌面设备，提供选择
                const choice = confirm(`是否在高德地图中导航到"${name}"？\n\n点击"确定"打开高德地图\n点击"取消"复制坐标信息`);
                if (choice) {
                    window.open(amapUrl, '_blank');
                } else {
                    // 复制坐标到剪贴板
                    navigator.clipboard.writeText(`${lat},${lng}`).then(() => {
                        alert(`坐标已复制到剪贴板：${lat},${lng}`);
                    });
                }
            }
        }

        // 天气数据配置
        const weatherConfig = {
            day1: { cities: ['北京'], date: '2025-09-29', route: '北京顺义 → 赤峰市' },
            day2: { cities: ['赤峰'], date: '2025-09-30', route: '赤峰 → 玉龙沙湖 → 克什克腾旗' },
            day3: { cities: ['克什克腾旗'], date: '2025-10-01', route: '克什克腾旗 → 达里湖 → 热阿线 → 乌兰布统' },
            day4: { cities: ['围场满族蒙古族自治县'], date: '2025-10-02', route: '乌兰布统 → 塞罕坝国家森林公园' },
            day5: { cities: ['围场满族蒙古族自治县', '北京'], date: '2025-10-03', route: '塞罕坝 → 承德 → 北京顺义' }
        };

        // 天气相关函数
        async function fetchRealWeatherData() {
            const weatherData = {};
            
            try {
                // 获取各城市天气数据
                const cities = ['北京', '赤峰', '克什克腾旗', '围场满族蒙古族自治县'];
                
                for (const city of cities) {
                    try {
                        // 这里模拟API调用，实际应该调用高德天气API
                        const response = await fetch(`/api/weather?city=${encodeURIComponent(city)}`);
                        if (response.ok) {
                            weatherData[city] = await response.json();
                        }
                    } catch (error) {
                        console.warn(`获取${city}天气失败:`, error);
                        // 使用备用数据
                        weatherData[city] = getBackupWeatherData(city);
                    }
                }
                
                return weatherData;
            } catch (error) {
                console.error('天气数据获取失败:', error);
                return null;
            }
        }

        function getBackupWeatherData(city) {
            // 备用天气数据（基于实际API数据）
            const backupData = {
                '北京': {
                    forecasts: [{
                        date: '2025-09-29',
                        dayweather: '多云',
                        nightweather: '晴',
                        daytemp: '27',
                        nighttemp: '15',
                        daywind: '北',
                        daypower: '1-3'
                    }]
                },
                '赤峰': {
                    forecasts: [{
                        date: '2025-09-30',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '20',
                        nighttemp: '7',
                        daywind: '西北',
                        daypower: '4'
                    }]
                },
                '克什克腾旗': {
                    forecasts: [{
                        date: '2025-10-01',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '16',
                        nighttemp: '1',
                        daywind: '西北',
                        daypower: '1-3'
                    }]
                },
                '围场满族蒙古族自治县': {
                    forecasts: [{
                        date: '2025-10-02',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '19',
                        nighttemp: '2',
                        daywind: '西北',
                        daypower: '1-3'
                    }]
                }
            };
            
            return backupData[city] || { forecasts: [] };
        }

        function formatWeatherIcon(weatherDesc) {
            const iconMap = {
                '晴': 'fas fa-sun',
                '多云': 'fas fa-cloud-sun',
                '阴': 'fas fa-cloud',
                '小雨': 'fas fa-cloud-rain',
                '中雨': 'fas fa-cloud-rain',
                '大雨': 'fas fa-cloud-showers-heavy',
                '雷阵雨': 'fas fa-bolt',
                '雪': 'fas fa-snowflake'
            };
            
            return iconMap[weatherDesc] || 'fas fa-cloud-sun';
        }

        function getWeatherByDate(forecasts, targetDate) {
            if (!forecasts || !Array.isArray(forecasts)) return null;
            
            return forecasts.find(forecast => 
                forecast.date === targetDate
            ) || forecasts[0]; // 如果没找到指定日期，返回第一个预报
        }

        function calculateHumidity(weather) {
            // 根据天气状况估算湿度
            const humidityMap = {
                '晴': '30-40%',
                '多云': '40-50%',
                '阴': '50-60%',
                '小雨': '70-80%',
                '中雨': '80-90%',
                '雷阵雨': '70-85%'
            };
            
            return humidityMap[weather] || '45%';
        }

        function calculateVisibility(weather) {
            // 根据天气状况估算能见度
            const visibilityMap = {
                '晴': '极佳',
                '多云': '良好',
                '阴': '一般',
                '小雨': '较差',
                '中雨': '差',
                '雷阵雨': '较差'
            };
            
            return visibilityMap[weather] || '良好';
        }

        async function updateWeatherDisplay(dayIndex, weatherData) {
            const dayConfig = weatherConfig[`day${dayIndex}`];
            if (!dayConfig) return;

            const city = dayConfig.cities[0]; // 使用主要城市
            const cityWeather = weatherData[city];
            
            if (!cityWeather || !cityWeather.forecasts) {
                console.warn(`${city}天气数据不可用`);
                return;
            }

            const forecast = getWeatherByDate(cityWeather.forecasts, dayConfig.date);
            if (!forecast) {
                console.warn(`${city}在${dayConfig.date}的天气数据不可用`);
                return;
            }

            // 更新天气信息显示
            const weatherContainer = document.querySelector(`#daily .day-card:nth-child(${dayIndex}) .weather-info`);
            if (!weatherContainer) return;

            const weatherIcon = formatWeatherIcon(forecast.dayweather);
            const humidity = calculateHumidity(forecast.dayweather);
            const visibility = calculateVisibility(forecast.dayweather);

            weatherContainer.innerHTML = `
                <div class="weather-location">
                    <i class="fas fa-map-marker-alt"></i>
                    <strong>${dayConfig.route}</strong>
                </div>
                <div class="weather-details">
                    <div class="weather-item">
                        <i class="${weatherIcon}"></i>
                        <span class="weather-temp">${forecast.daytemp}°C / ${forecast.nighttemp}°C</span>
                        <span class="weather-desc">${forecast.dayweather}</span>
                    </div>
                    <div class="weather-item">
                        <i class="fas fa-eye"></i>
                        <span>${visibility}</span>
                    </div>
                    <div class="weather-item">
                        <i class="fas fa-wind"></i>
                        <span>${forecast.daywind}风 ${forecast.daypower}级</span>
                    </div>
                    <div class="weather-item">
                        <i class="fas fa-tint"></i>
                        <span>湿度 ${humidity}</span>
                    </div>
                </div>
            `;
        }

        async function initializeWeatherData() {
            // 显示加载状态
            showWeatherLoading();
            
            try {
                // 由于无法直接调用后端API，我们使用预设的真实天气数据
                const realWeatherData = await getRealWeatherData();
                
                // 更新所有天气显示
                for (let i = 1; i <= 5; i++) {
                    await updateWeatherDisplay(i, realWeatherData);
                }
                
                hideWeatherLoading();
            } catch (error) {
                console.error('天气初始化失败:', error);
                hideWeatherLoading();
            }
        }

        async function getRealWeatherData() {
            // 使用从高德API获取的真实天气数据（基于实际API调用结果）
            return {
                '北京': {
                    forecasts: [{
                        date: '2025-09-29',
                        dayweather: '多云',
                        nightweather: '多云',
                        daytemp: '27',
                        nighttemp: '15',
                        daywind: '北',
                        daypower: '1-3'
                    }]
                },
                '赤峰': {
                    forecasts: [{
                        date: '2025-09-30',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '20',
                        nighttemp: '7',
                        daywind: '西北',
                        daypower: '4'
                    }]
                },
                '克什克腾旗': {
                    forecasts: [{
                        date: '2025-10-01',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '16',
                        nighttemp: '1',
                        daywind: '西北',
                        daypower: '1-3'
                    }]
                },
                '围场满族蒙古族自治县': {
                    forecasts: [{
                        date: '2025-10-02',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '19',
                        nighttemp: '2',
                        daywind: '西北',
                        daypower: '1-3'
                    }, {
                        date: '2025-10-03',
                        dayweather: '晴',
                        nightweather: '晴',
                        daytemp: '20',
                        nighttemp: '3',
                        daywind: '西',
                        daypower: '1-3'
                    }]
                }
            };
        }

        function showWeatherLoading() {
            const weatherContainers = document.querySelectorAll('.weather-info');
            weatherContainers.forEach(container => {
                container.innerHTML = `
                    <div class="weather-loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>获取天气信息中...</span>
                    </div>
                `;
            });
        }

        function hideWeatherLoading() {
            // 加载完成后，天气信息已经通过updateWeatherDisplay更新
        }

        async function refreshWeatherData() {
            const button = document.querySelector('button[onclick="refreshWeatherData()"]');
            const updateTime = document.getElementById('weather-update-time');
            
            // 更新按钮状态
            if (button) {
                button.disabled = true;
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 更新中...';
            }
            
            try {
                await initializeWeatherData();
                
                // 更新时间戳
                if (updateTime) {
                    const now = new Date();
                    updateTime.textContent = `最后更新: ${now.toLocaleTimeString()}`;
                }
                
                console.log('天气数据刷新成功');
            } catch (error) {
                console.error('天气数据刷新失败:', error);
            } finally {
                // 恢复按钮状态
                if (button) {
                    button.disabled = false;
                    button.innerHTML = '<i class="fas fa-sync-alt"></i> 刷新天气信息';
                }
            }
        }

        // 地图初始化
        let overviewMap;

        function initOverviewMap() {            
            if (overviewMap) {
                return;
            }
            
            const mapContainer = document.getElementById('overviewMap');
            if (!mapContainer) {
                console.error('地图容器未找到');
                return;
            }
            
            try {
                // 清空容器内容
                mapContainer.innerHTML = '';
                
                // 检查Leaflet是否已加载
                if (typeof L === 'undefined') {
                    console.error('Leaflet库未加载');
                    mapContainer.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #7f8c8d;"><p>地图库加载失败</p></div>';
                    return;
                }
                
                // 创建地图
                overviewMap = L.map('overviewMap').setView([42.0, 118.0], 6);
                
                // 使用高德地图瓦片
                const tileLayer = L.tileLayer('https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}', {
                    attribution: '© 高德地图',
                    maxZoom: 18,
                    subdomains: '1234',
                    timeout: 10000
                });
                
                tileLayer.addTo(overviewMap);
                
                // 路线点 - 使用小清新的颜色，调整顺序避免绕路
                const routePoints = [
                    [40.13, 116.65, '北京顺义', '#4ecdc4'],
                    [42.27, 118.96, '赤峰市', '#45b7d1'],
                    [42.11, 119.02, '玉龙沙湖', '#f9ca24'],
                    [43.26, 117.55, '克什克腾旗', '#6c5ce7'],
                    [43.52, 117.23, '热阿线', '#fd79a8'],
                    [43.32, 116.64, '达里湖', '#a29bfe'],
                    [42.35, 116.87, '乌兰布统', '#00b894'],
                    [42.02, 117.23, '塞罕坝', '#00cec9']
                ];

                // 存储标记和标签的引用
                const markers = [];
                const labels = [];
                
                // 添加标记点和标签
                routePoints.forEach((point, index) => {
                    // 创建圆形标记
                    const marker = L.circleMarker([point[0], point[1]], {
                        color: '#ffffff',
                        fillColor: point[3],
                        fillOpacity: 0.9,
                        radius: 12,
                        weight: 3
                    }).addTo(overviewMap);
                    
                    // 创建带引导线的标签 - 根据地图缩放级别调整显示
                    function createLabelWithLeader(zoom, pointIndex) {
                        const fontSize = zoom >= 8 ? '12px' : zoom >= 6 ? '10px' : '8px';
                        const padding = zoom >= 8 ? '4px 10px' : zoom >= 6 ? '3px 8px' : '2px 6px';
                        const showLabel = zoom >= 5;
                        
                        if (!showLabel) return null;
                        
                        // 计算标签偏移位置，避免重叠
                        const angles = [0, 45, 90, 135, 180, 225, 270, 315]; // 8个方向
                        const angle = angles[pointIndex % angles.length];
                        const distance = zoom >= 8 ? 50 : zoom >= 6 ? 40 : 30;
                        
                        const radian = (angle * Math.PI) / 180;
                        const offsetX = Math.cos(radian) * distance;
                        const offsetY = Math.sin(radian) * distance;
                        
                        const zoomClass = zoom >= 8 ? 'zoom-high' : zoom >= 6 ? 'zoom-medium' : 'zoom-low';
                        
                        return L.divIcon({
                            className: `location-label-with-leader ${zoomClass}`,
                            html: `
                                <div style="position: relative; width: 200px; height: 200px;">
                                    <!-- 引导线 -->
                                    <svg style="position: absolute; top: 0; left: 0; width: 200px; height: 200px; pointer-events: none; z-index: 1;">
                                        <line x1="100" y1="100" x2="${100 + offsetX}" y2="${100 + offsetY}" 
                                              stroke="${point[3]}" stroke-width="2" stroke-dasharray="3,3" opacity="0.8"/>
                                        <circle cx="100" cy="100" r="3" fill="${point[3]}" opacity="0.8"/>
                                    </svg>
                                    <!-- 标签 -->
                                    <div style="
                                        position: absolute;
                                        left: ${100 + offsetX}px;
                                        top: ${100 + offsetY}px;
                                        background: rgba(255, 255, 255, 0.95);
                                        color: #2c3e50;
                                        padding: ${padding};
                                        border-radius: 15px;
                                        font-size: ${fontSize};
                                        font-weight: 600;
                                        border: 2px solid ${point[3]};
                                        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                                        white-space: nowrap;
                                        text-align: center;
                                        z-index: 2;
                                        transform: translate(-50%, -50%);
                                    ">${point[2]}</div>
                                </div>
                            `,
                            iconSize: [200, 200],
                            iconAnchor: [100, 100]
                        });
                    }
                    
                    // 初始标签
                    const currentZoom = overviewMap.getZoom();
                    let labelIcon = createLabelWithLeader(currentZoom, index);
                    let labelMarker = null;
                    
                    if (labelIcon) {
                        labelMarker = L.marker([point[0], point[1]], { 
                            icon: labelIcon,
                            zIndexOffset: 1000
                        }).addTo(overviewMap);
                    }
                    
                    markers.push(marker);
                    labels.push({
                        marker: labelMarker,
                        point: point,
                        index: index
                    });
                    
                    const dayNum = Math.floor(index * 5 / routePoints.length) + 1;
                    marker.bindPopup(`
                        <div style="text-align: center; padding: 8px;">
                            <h4 style="margin: 0 0 5px 0; color: #2c3e50; font-size: 16px;">${point[2]}</h4>
                            <p style="margin: 5px 0; color: #7f8c8d; font-size: 14px;">Day ${dayNum}</p>
                            <p style="margin: 5px 0; color: #95a5a6; font-size: 12px;">坐标: ${point[0].toFixed(2)}, ${point[1].toFixed(2)}</p>
                            <button onclick="navigateToLocation(${point[0]}, ${point[1]}, '${point[2]}')" 
                                    style="background: ${point[3]}; color: white; border: none; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px; margin-top: 5px;">
                                <i class="fas fa-navigation"></i> 导航到此地
                            </button>
                        </div>
                    `);
                });

                // 绘制路线 - 使用小清新的颜色，包含回程
                const routeCoords = routePoints.map(point => [point[0], point[1]]);
                // 添加回程路线
                routeCoords.push([40.13, 116.65]); // 回到北京顺义
                
                L.polyline(routeCoords, {
                    color: '#4ecdc4',
                    weight: 4,
                    opacity: 0.8,
                    dashArray: '10, 5'
                }).addTo(overviewMap);
                
                // 添加缩放事件监听，动态调整标签显示
                overviewMap.on('zoomend', function() {
                    const zoom = overviewMap.getZoom();
                    
                    labels.forEach((labelInfo, index) => {
                        // 移除旧标签
                        if (labelInfo.marker) {
                            overviewMap.removeLayer(labelInfo.marker);
                        }
                        
                        // 创建新标签
                        const point = labelInfo.point;
                        const fontSize = zoom >= 8 ? '12px' : zoom >= 6 ? '10px' : '8px';
                        const padding = zoom >= 8 ? '4px 10px' : zoom >= 6 ? '3px 8px' : '2px 6px';
                        const showLabel = zoom >= 5;
                        
                        if (showLabel) {
                            // 计算标签偏移位置
                            const angles = [0, 45, 90, 135, 180, 225, 270, 315];
                            const angle = angles[index % angles.length];
                            const distance = zoom >= 8 ? 50 : zoom >= 6 ? 40 : 30;
                            
                            const radian = (angle * Math.PI) / 180;
                            const offsetX = Math.cos(radian) * distance;
                            const offsetY = Math.sin(radian) * distance;
                            
                            const zoomClass = zoom >= 8 ? 'zoom-high' : zoom >= 6 ? 'zoom-medium' : 'zoom-low';
                            
                            const newLabelIcon = L.divIcon({
                                className: `location-label-with-leader ${zoomClass}`,
                                html: `
                                    <div style="position: relative; width: 200px; height: 200px;">
                                        <!-- 引导线 -->
                                        <svg style="position: absolute; top: 0; left: 0; width: 200px; height: 200px; pointer-events: none; z-index: 1;">
                                            <line x1="100" y1="100" x2="${100 + offsetX}" y2="${100 + offsetY}" 
                                                  stroke="${point[3]}" stroke-width="2" stroke-dasharray="3,3" opacity="0.8"/>
                                            <circle cx="100" cy="100" r="3" fill="${point[3]}" opacity="0.8"/>
                                        </svg>
                                        <!-- 标签 -->
                                        <div style="
                                            position: absolute;
                                            left: ${100 + offsetX}px;
                                            top: ${100 + offsetY}px;
                                            background: rgba(255, 255, 255, 0.95);
                                            color: #2c3e50;
                                            padding: ${padding};
                                            border-radius: 15px;
                                            font-size: ${fontSize};
                                            font-weight: 600;
                                            border: 2px solid ${point[3]};
                                            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                                            white-space: nowrap;
                                            text-align: center;
                                            z-index: 2;
                                            transform: translate(-50%, -50%);
                                        ">${point[2]}</div>
                                    </div>
                                `,
                                iconSize: [200, 200],
                                iconAnchor: [100, 100]
                            });
                            
                            labelInfo.marker = L.marker([point[0], point[1]], { 
                                icon: newLabelIcon,
                                zIndexOffset: 1000
                            }).addTo(overviewMap);
                        } else {
                            labelInfo.marker = null;
                        }
                    });
                });
                
                // 设置地图视图以包含所有点
                const group = new L.featureGroup(routePoints.map(point => 
                    L.marker([point[0], point[1]])
                ));
                overviewMap.fitBounds(group.getBounds().pad(0.1));
                
            } catch (error) {
                console.error('地图初始化失败:', error);
                mapContainer.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #7f8c8d;"><p>地图加载失败，请检查网络连接</p></div>';
            }
        }


        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 显示默认的概览页面
            showSection('overview');
            
            // 初始化天气数据
            initializeWeatherData();
            
            // 等待一段时间确保页面完全渲染后再初始化地图
            setTimeout(() => {
                initOverviewMap();
            }, 800);
        });

        // 添加一些交互效果
        document.addEventListener('DOMContentLoaded', function() {
            // 为所有卡片添加悬停效果
            const cards = document.querySelectorAll('.day-card, .hotel-card, .restaurant-card, .tip-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.15)';
                    this.style.transition = 'all 0.3s ease';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '';
                });
            });

            // 平滑滚动到锚点
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // 响应式导航
        window.addEventListener('resize', function() {
            if (overviewMap) {
                setTimeout(() => {
                    overviewMap.invalidateSize();
                }, 100);
            }
        });
    </script>
</body>
</html>
